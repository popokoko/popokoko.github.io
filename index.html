<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth theme-christmas">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PEACELOVE | Innovate. Collaborate. Inspire.</title>

    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- è¼‰å…¥ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Montserrat:wght@700;800&family=Poppins:wght@700;800&family=Roboto:wght@400;700&family=Mountains+of+Christmas:wght@400;700&display=swap"
        rel="stylesheet">

    <style>
        /* è‡ªå®šç¾©æ¼¸è®Šå’Œå­—é«” */
        :root {
            --color-core-start: #00c6ff;
            /* ç§‘æŠ€è— */
            --color-core-end: #0072ff;
            /* ç§‘æŠ€æ·±è—/ç¶  (èª¿æ•´ç‚ºæ›´å’Œè«§çš„æ¼¸è®Š) */
            --color-hues-start: #ffafbd;
            /* æŸ”å’Œç²‰ */
            --color-hues-end: #c94b4b;
            /* æŸ”å’Œç´«/ç´… (èª¿æ•´ç‚ºæ›´å’Œè«§çš„æ¼¸è®Š) */
        }

        /* è–èª•ç¯€ä¸»é¡Œè®Šæ•¸ (Premium Christmas - Warm Pink Theme) */
        :root.theme-christmas {
            --color-core-start: #FF7096;
            /* Vibrant Warm Pink */
            --color-core-end: #FF5C8A;
            /* Deeper Warm Pink */
            --color-hues-start: #FFA3BA;
            /* Light Warm Pink */
            --color-hues-end: #FFB3C1;
            /* Softest Pink */
        }

        /* è–èª•ç‰¹åˆ¥æ¨£å¼èª¿æ•´ */
        .theme-christmas body {
            background-color: #FFF9FA;
            /* Extremely light pinkish white */
            background-image: radial-gradient(#FFDDE1 1px, transparent 1px);
            /* Soft pink dots */
            background-size: 20px 20px;
        }

        .font-heading {
            font-family: 'Montserrat', 'Poppins', sans-serif;
        }

        .font-body {
            font-family: 'Inter', 'Roboto', sans-serif;
        }

        .font-christmas {
            font-family: 'Mountains of Christmas', cursive;
        }

        /* é è¨­éš±è—è–èª•ç¥ç¦ */
        /* é è¨­éš±è—è–èª•ç¥ç¦ */
        .christmas-text {
            display: none;
        }

        /* è–èª•ä¸»é¡Œä¸‹é¡¯ç¤º */
        .theme-christmas .christmas-text {
            display: block;
        }

        /* æ¼¸è®Šæ–‡å­— */
        .text-gradient-core {
            background: linear-gradient(to right, var(--color-core-start), var(--color-core-end));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .text-gradient-hues {
            background: linear-gradient(to right, var(--color-hues-start), var(--color-hues-end));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* æ¼¸è®ŠèƒŒæ™¯ */
        .bg-gradient-core {
            background: linear-gradient(135deg, var(--color-core-start), var(--color-core-end));
        }

        .bg-gradient-hues {
            background: linear-gradient(135deg, var(--color-hues-start), var(--color-hues-end));
        }

        /* æ¼¸è®Šé‚Šæ¡† (ç”¨æ–¼éˆæ„ŸèªŒ) */
        .border-gradient-core {
            border: 2px solid;
            border-image-slice: 1;
            border-image-source: linear-gradient(to right, var(--color-core-start), var(--color-core-end));
        }

        .border-gradient-hues {
            border: 2px solid;
            border-image-slice: 1;
            border-image-source: linear-gradient(to right, var(--color-hues-start), var(--color-hues-end));
        }

        /* Logo ç·©æ…¢å¾ªç’°å‹•ç•« */
        @keyframes slowPulse {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.9;
                transform: scale(1.02);
            }
        }

        .animate-slowPulse {
            animation: slowPulse 6s ease-in-out infinite;
        }

        /* å¿ƒå½¢æ›²ç·šåˆ†éš” (ä½¿ç”¨ SVG) */
        .heart-divider {
            width: 100%;
            height: 100px;
            fill: #f9fafb;
            /* å¡«æ»¿é¡è‰²ä»¥åŒ¹é… bg-gray-50 */
            stroke: #e5e7eb;
            /* é‚Šæ¡†é¡è‰² */
            stroke-width: 1;
        }

        /* ç¢ºä¿æ²å‹•æ™‚çš„éŒ¨é»åç§» (é¿å…è¢«å›ºå®šçš„ header æ“‹ä½) */
        section[id] {
            scroll-margin-top: 80px;
        }

        /* --- è¨ªå®¢è¨ˆæ•¸å™¨æ¨£å¼ (è‡ªç„¶å †ç–Š) --- */
        #bottle-container {
            position: relative;
            width: 250px;
            height: 350px;
            margin: 0 auto;
            padding: 20px;
            border: 4px solid var(--color-core-start);
            border-radius: 20px 20px 40px 40px;
            /* æ°´ç“¶å½¢ç‹€ */
            border-top: 10px solid var(--color-core-end);
            /* æ°´ç“¶é ¸ */
            background: rgba(249, 250, 251, 0.7);
            /* åŠé€æ˜èƒŒæ™¯ */
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            /* éš±è—æº¢å‡ºçš„æ„›å¿ƒ */
        }

        #hearts-wrapper {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            padding: 10px;
            overflow: hidden;
        }

        .heart-icon {
            position: absolute;
            color: var(--color-hues-end);
            filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.3));
        }

        /* å‹•ç•« */
        @keyframes dropIn {
            0% {
                opacity: 0;
                transform: translateY(-200px) rotate(0deg);
            }

            60% {
                opacity: 1;
                transform: translateY(10px) rotate(0deg);
            }

            100% {
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        .heart-small {
            width: 20px;
            height: 20px;
        }

        .heart-medium {
            width: 40px;
            height: 40px;
            color: #ff69b4;
            z-index: 2;
        }

        .heart-large {
            width: 80px;
            height: 80px;
            color: #ff1493;
            z-index: 3;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.4));
        }

        .heart-huge {
            width: 120px;
            height: 120px;
            color: #db7093;
            z-index: 4;
            filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.5));
        }

        /* å‹•ç•« */
        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        /* ç¦æ­¢åœ–ç‰‡è¢«æ‹–æ‹½æˆ–å³éµ */
        img {
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
            user-drag: none;
            user-select: none;
        }

        /* --- TV Theme Styles --- */
        /* Default (Retro Dark) - styles are handled by inline Tailwind classes in HTML */

        /* Christmas Theme Overrides */
        /* Christmas Theme Overrides */
        /* Christmas Theme Overrides */
        .theme-christmas .tv-antenna-rod {
            width: 8px !important;
            /* Thicker for candy cane look */
            background: repeating-linear-gradient(45deg,
                    #ffffff,
                    #ffffff 5px,
                    #BC4749 5px,
                    #BC4749 10px) !important;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3) !important;
            border: 1px solid #a03537 !important;
            border-radius: 4px !important;
        }

        .theme-christmas .tv-housing {
            background-color: #BC4749 !important;
            /* Muted Vintage Red - Less eye-catching */
            border-color: #386641 !important;
            /* Deep Vintage Green */
            box-shadow: 0 20px 25px -5px rgba(188, 71, 73, 0.4), 0 8px 10px -6px rgba(188, 71, 73, 0.2) !important;
        }

        .theme-christmas .tv-housing-inner {
            background-color: #1a1a1a !important;
            /* Screen area remains dark */
            box-shadow: 0 0 0 4px #FFD700 !important;
            /* Gold ring simulation */
        }

        .theme-christmas .tv-speaker-bar {
            background-color: #FFD700 !important;
            /* Gold accents */
        }

        .theme-christmas .tv-stand-base {
            background-color: #386641 !important;
            /* Deep Green stand */
        }

        .theme-christmas .tv-logo-text {
            color: #FFD700 !important;
            text-shadow: 0px 1px 0px rgba(0, 0, 0, 0.5);
        }

        /* Enhanced Snow Cap Effect - Drippier and Larger */
        .theme-christmas .tv-housing::before {
            content: '';
            position: absolute;
            top: -18px;
            /* Move up to sit on top */
            left: -6px;
            right: -6px;
            height: 40px;
            /* Taller to show drips */
            /* Custom SVG with deeper curves for "dripping snow" look */
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 40' preserveAspectRatio='none'%3E%3Cpath d='M0 15 Q 10 10 15 15 T 30 25 T 45 10 T 60 25 T 75 12 T 90 20 T 100 15 V 0 H 0 Z' fill='%23ffffff'/%3E%3C/svg%3E");
            background-size: 100% 100%;
            z-index: 20;
            pointer-events: none;
            filter: drop-shadow(0 3px 2px rgba(0, 0, 0, 0.15));
        }
    </style>
</head>

<body class="font-body bg-white text-gray-800">

    <!-- I. é ‚éƒ¨å°è¦½åˆ— -->
    <header class="bg-white/90 backdrop-blur-md shadow-md sticky top-0 z-50 rounded-b-lg mx-auto max-w-7xl px-4">
        <nav class="container mx-auto flex items-center justify-end h-20">
            <div class="hidden md:flex items-center space-x-6 lg:space-x-8 font-medium">
                <a href="#home" class="hover:text-gradient-core transition-colors">é¦–é </a>
                <a href="#about" class="hover:text-gradient-core transition-colors">é—œæ–¼æˆ‘å€‘</a>
                <a href="#core" class="hover:text-gradient-core transition-colors">P.L. CORE</a>
                <a href="#hues" class="hover:text-gradient-hues transition-colors">P.L. HUES</a>
                <a href="#insights" class="hover:text-gradient-hues transition-colors">éˆæ„ŸèªŒ</a>
                <a href="#contact"
                    class="bg-gradient-core text-white px-5 py-2 rounded-full shadow-lg hover:shadow-xl transition-shadow">è¯çµ¡æˆ‘å€‘</a>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="text-gray-700 focus:outline-none">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16m-8 6h8"></path>
                    </svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden flex-col items-center space-y-4 py-6 text-center font-medium">
            <a href="#home" class="block w-full py-2 hover:bg-gray-100 rounded-lg">é¦–é </a>
            <a href="#about" class="block w-full py-2 hover:bg-gray-100 rounded-lg">é—œæ–¼æˆ‘å€‘</a>
            <a href="#core" class="block w-full py-2 hover:bg-gray-100 rounded-lg">P.L. CORE</a>
            <a href="#hues" class="block w-full py-2 hover:bg-gray-100 rounded-lg">P.L. HUES</a>
            <a href="#insights" class="block w-full py-2 hover:bg-gray-100 rounded-lg">éˆæ„ŸèªŒ</a>
            <a href="#contact"
                class="block w-full bg-gradient-core text-white px-5 py-2 rounded-full shadow-lg">è¯çµ¡æˆ‘å€‘</a>
        </div>
    </header>

    <!-- II. ä¸»è¦å…§å®¹ -->
    <main>

        <!-- 1. é¦–é  (Home) -->
        <section id="home"
            class="relative overflow-hidden min-h-screen flex items-center justify-center pt-20 pb-0 bg-white">
            <div
                class="absolute -top-1-4 -left-1-4 w-1-2 h-1-2 bg-gradient-core rounded-full opacity-30 blur-3xl animate-pulse">
            </div>
            <div class="absolute -bottom-1-4 -right-1-4 w-1-2 h-1-2 bg-gradient-hues rounded-full opacity-30 blur-3xl animate-pulse"
                style="animation-delay: 3s;"></div>

            <div class="container mx-auto px-6 text-center z-10">
                <div class="flex flex-col items-center justify-center mb-10">
                    <!-- TV Element playing Maomao Logo -->


                    <img src="./us.png" alt="PEACELOVE æ ¸å¿ƒæ¨™èªŒ" class="h-64 md:h-80 lg:h-96 w-auto animate-slowPulse"
                        onerror="this.src='https://placehold.co/400x160/f0f0f0/333?text=PEACELOVE+Logo&font=montserrat'; this.onerror=null;">

                    <!-- è–èª•ç¥ç¦æ–‡å­— -->
                    <div class="christmas-text mt-6">
                        <span
                            class="font-christmas text-4xl md:text-6xl text-[#FF7096] drop-shadow-md tracking-wider transform -rotate-2 inline-block hover:rotate-2 transition-transform duration-300">
                            ğŸ„ Merry Christmas! â›„
                        </span>
                    </div>
                </div>
                <h1 class="font-heading text-4xl md:text-6xl lg:text-7xl font-extrabold mb-6">
                    <span class="text-gradient-core">PEACE</span><span class="text-gray-800">LOVE</span>.
                </h1>
                <p class="font-heading text-2xl md:text-4xl text-gray-600">
                    Innovate. Collaborate. Inspire.
                </p>

                <!-- Draggable TV Element -->
                <div id="draggable-tv"
                    class="tv-set my-8 mx-auto relative group z-20 max-w-[300px] md:max-w-[400px] cursor-move select-none"
                    style="touch-action: none;">
                    <!-- Antenna -->
                    <div
                        class="absolute -top-10 left-1/2 -translate-x-1/2 w-40 h-12 z-0 opacity-80 pointer-events-none flex justify-center items-end">
                        <div
                            class="tv-antenna-rod w-0.5 h-12 bg-gray-400 rotate-[-35deg] origin-bottom rounded-full shadow-sm transition-colors duration-500">
                        </div>
                        <div
                            class="tv-antenna-rod w-0.5 h-12 bg-gray-400 rotate-[35deg] origin-bottom rounded-full shadow-sm transition-colors duration-500">
                        </div>
                    </div>

                    <!-- TV Body -->
                    <div
                        class="tv-housing relative bg-[#2a2a2a] rounded-[2rem] p-4 shadow-2xl border-[6px] border-[#3a3a3a] w-full transform transition-all duration-500 hover:scale-[1.02]">
                        <!-- Screen Bezel -->
                        <div
                            class="tv-housing-inner bg-black rounded-xl overflow-hidden relative shadow-inner ring-4 ring-[#1a1a1a] transition-colors duration-500">
                            <!-- The Video -->
                            <video autoplay loop muted playsinline
                                class="w-full h-auto object-cover opacity-95 group-hover:opacity-100 transition-opacity block bg-black pointer-events-none">
                                <source src="https://popokoko.github.io/videoo/maomao_logo.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <!-- Screen Glare -->
                            <div
                                class="absolute inset-0 bg-gradient-to-tr from-white/10 via-transparent to-transparent pointer-events-none z-10">
                            </div>
                            <!-- Scanlines overlay -->
                            <div
                                class="absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.1)_50%),linear-gradient(90deg,rgba(255,0,0,0.03),rgba(0,255,0,0.01),rgba(0,0,255,0.03))] z-10 bg-[length:100%_2px,3px_100%] pointer-events-none">
                            </div>
                        </div>

                        <!-- TV Controls / Branding -->
                        <div class="mt-4 flex justify-between items-center px-4">
                            <div class="flex items-center gap-3">
                                <!-- Power Light -->
                                <div
                                    class="w-2 h-2 rounded-full bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.8)] animate-pulse">
                                </div>
                                <!-- Speaker Grille -->
                                <div class="flex gap-0.5">
                                    <div
                                        class="tv-speaker-bar w-1 h-3 bg-gray-800 rounded-full transition-colors duration-500">
                                    </div>
                                    <div
                                        class="tv-speaker-bar w-1 h-3 bg-gray-800 rounded-full transition-colors duration-500">
                                    </div>
                                    <div
                                        class="tv-speaker-bar w-1 h-3 bg-gray-800 rounded-full transition-colors duration-500">
                                    </div>
                                    <div
                                        class="tv-speaker-bar w-1 h-3 bg-gray-800 rounded-full transition-colors duration-500">
                                    </div>
                                </div>
                            </div>
                            <div
                                class="tv-logo-text text-[10px] font-mono text-gray-500 font-bold tracking-[0.2em] uppercase transition-colors duration-500">
                                PEACE TV</div>
                        </div>
                    </div>

                    <!-- Stand -->
                    <div
                        class="tv-stand-base w-1/3 h-4 bg-[#3a3a3a] mx-auto rounded-b-xl shadow-lg -mt-1 relative z-[-1] transition-colors duration-500">
                    </div>
                    <div
                        class="w-1/2 h-1 bg-black/20 mx-auto rounded-full blur-sm mt-1 absolute left-1/2 -translate-x-1/2">
                    </div>
                </div>
                <p class="mt-8 text-lg max-w-2xl mx-auto text-gray-700">
                    æˆ‘å€‘ç›¸ä¿¡ï¼ŒçœŸæ­£çš„å‰µæ–°ä¾†è‡ªæ–¼ç†±æƒ…èˆ‡å®‰å…¨çš„å®Œç¾å¹³è¡¡ã€‚
                </p>
                <div class="mt-12 flex flex-col md:flex-row justify-center items-center gap-6">
                    <a href="#core"
                        class="w-full md:w-auto px-8 py-4 rounded-full bg-gradient-core text-white font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all">
                        æ¢ç´¢ P.L. CORE (ç§‘æŠ€)
                    </a>
                    <a href="#hues"
                        class="w-full md:w-auto px-8 py-4 rounded-full bg-gradient-hues text-white font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all">
                        æ¢ç´¢ P.L. HUES (æ™‚å°š)
                    </a>
                </div>
            </div>
        </section>

        <!-- 2. é—œæ–¼æˆ‘å€‘ (About Us) -->
        <section id="about" class="pt-12 pb-24 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="font-heading text-4xl md:text-5xl font-extrabold mb-4">é—œæ–¼ PEACELOVE</h2>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                        ã€Œæˆ‘å€‘ç›¸ä¿¡ï¼ŒçœŸæ­£çš„å‰µæ–°ä¾†è‡ªæ–¼ç†±æƒ…èˆ‡å®‰å…¨çš„å®Œç¾å¹³è¡¡ã€‚ã€
                    </p>
                </div>

                <!-- è¨ªå®¢è¨ˆæ•¸å™¨ -->
                <div class="mt-16 mb-20 max-w-lg mx-auto text-center">
                    <h3 class="font-heading text-3xl font-bold mb-8 text-center">æˆ‘å€‘çš„æ„›</h3>
                    <p class="text-gray-600 mb-8 max-w-md mx-auto">æ„Ÿè¬æ¯ä¸€ä½è¨ªå®¢çš„è’è‡¨ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘å€‘å‰µæ–°çš„å‹•åŠ›ï¼</p>
                    <div id="bottle-container">
                        <div id="hearts-wrapper"></div>
                    </div>
                    <p class="mt-6 text-2xl font-bold">
                        <span id="visitor-count-text" class="text-gradient-hues text-3xl">0</span> é¡†å¿ƒ (ä½è¨ªå®¢)
                    </p>
                </div>

                <!-- ä½¿å‘½å®£è¨€ -->
                <div class="bg-white p-10 md:p-16 rounded-3xl shadow-lg mb-20 max-w-5xl mx-auto">
                    <h3 class="font-heading text-3xl font-bold mb-6 text-center">æˆ‘å€‘çš„ä½¿å‘½</h3>
                    <div class="grid md:grid-cols-3 gap-8 text-center">
                        <div class="p-6 bg-gray-50 rounded-2xl">
                            <h4 class="font-heading text-2xl font-bold text-gradient-core mb-3">Innovate (å‰µæ–°)</h4>
                            <p class="text-gray-700">ä»¥å‰ç»ç§‘æŠ€ (CORE) æ‰“é€ å®‰å…¨åŸºç¤ï¼Œä»¥ç„¡é™å‰µæ„ (HUES) å¼•é ˜æ™‚å°šæœªä¾†ã€‚</p>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-2xl">
                            <h4 class="font-heading text-2xl font-bold text-gray-700 mb-3">Collaborate (å”ä½œ)</h4>
                            <p class="text-gray-700">é€£çµç§‘æŠ€èˆ‡æ™‚å°šç¤¾ç¾¤ï¼Œå»ºç«‹ä¸€å€‹é€æ˜ã€å…±å‰µã€äº’ä¿¡çš„ç”Ÿæ…‹ç³»çµ±ã€‚</p>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-2xl">
                            <h4 class="font-heading text-2xl font-bold text-gradient-hues mb-3">Inspire (å•Ÿç™¼)</h4>
                            <p class="text-gray-700">å•Ÿç™¼æ¯å€‹äººæ¢ç´¢çœŸå¯¦çš„è‡ªæˆ‘ï¼Œç„¡è«–æ˜¯é€éæ•¸æ“šå®‰å…¨é‚„æ˜¯è‰²å½©è¡¨é”ã€‚</p>
                        </div>
                    </div>
                </div>

                <!-- é›™æ ¸å¿ƒæ¶æ§‹ -->
                <h3 class="font-heading text-3xl font-bold mb-12 text-center">é›™æ ¸å¿ƒæ¶æ§‹</h3>
                <div class="grid lg:grid-cols-2 gap-10 max-w-6xl mx-auto">
                    <div
                        class="bg-gradient-core text-white p-10 rounded-3xl shadow-2xl transform hover:scale-105 transition-transform duration-300">
                        <h4 class="font-heading text-4xl font-extrabold mb-4">P.L. CORE</h4>
                        <p class="text-xl font-medium mb-6">ç§‘æŠ€é©…å‹•ä¿¡ä»»</p>
                        <p class="text-lg">
                            ä»£è¡¨ PEACE (å’Œå¹³ã€å®‰å…¨)ã€‚æˆ‘å€‘æä¾›é ‚å°–çš„æ•¸æ“šå®‰å…¨æº¯æºæŠ€è¡“ï¼Œç‚ºç”¢æ¥­å»ºç«‹å …ä¸å¯æ‘§çš„ä¿¡ä»»åŸºç¤ã€‚
                        </p>
                        <a href="#core"
                            class="inline-block mt-8 bg-white text-blue-700 font-bold px-6 py-3 rounded-full shadow-lg hover:bg-gray-100 transition-colors">
                            æ·±å…¥äº†è§£ CORE ç”¢å“
                        </a>
                    </div>
                    <div
                        class="bg-gradient-hues text-white p-10 rounded-3xl shadow-2xl transform hover:scale-105 transition-transform duration-300">
                        <h4 class="font-heading text-4xl font-extrabold mb-4">P.L. HUES</h4>
                        <p class="text-xl font-medium mb-6">ç†±æƒ…é»ç‡ƒç¾éº—</p>
                        <p class="text-lg">
                            ä»£è¡¨ LOVE (ç†±æƒ…ã€æ™‚å°š)ã€‚æˆ‘å€‘é‹ç”¨ AI èˆ‡ç¤¾ç¾¤åŠ›é‡ï¼Œæä¾›å€‹äººåŒ–çš„æ™‚å°šæ¨è–¦èˆ‡å…±å‰µå¹³å°ï¼Œé‡‹æ”¾æ¯å€‹äººçš„ç¨ç‰¹é­…åŠ›ã€‚
                        </p>
                        <a href="#hues"
                            class="inline-block mt-8 bg-white text-pink-700 font-bold px-6 py-3 rounded-full shadow-lg hover:bg-gray-100 transition-colors">
                            æ¢ç´¢ HUES æœå‹™
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. P.L. CORE (ç”¢å“) -->
        <section id="core" class="py-24 bg-white relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-core opacity-10 blur-3xl"></div>
            <div class="container mx-auto px-6 relative z-10">
                <div class="text-center mb-16 max-w-3xl mx-auto">
                    <h2 class="font-heading text-4xl md:text-5xl font-extrabold mb-4">
                        P.L. <span class="text-gradient-core">CORE</span>
                    </h2>
                    <p class="text-lg text-gray-600">
                        ä»¥ç§‘æŠ€å®ˆè­·å®‰å…¨ï¼Œä»¥æ•¸æ“šå»ºç«‹é€æ˜ã€‚å°ˆæ¥­ã€å®‰å…¨ã€å¯ä¿¡è³´çš„è§£æ±ºæ–¹æ¡ˆã€‚
                    </p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <a href="product_core_security.html" id="core-security-link"
                        class="block bg-white p-8 rounded-3xl shadow-lg border border-gray-100 transform hover:scale-105 hover:shadow-2xl transition-all duration-300">
                        <div
                            class="w-16 h-16 bg-gradient-core rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                            </svg>
                        </div>
                        <h3 id="core-security-title" class="font-heading text-2xl font-bold mb-3">Information and Cyber
                            Security (è³‡å®‰åˆ†æè§£æ±ºæ–¹æ¡ˆ)</h3>
                        <p id="core-security-desc" class="text-gray-600">æä¾›æ•¸æ“šå®‰å…¨ï¼Œéš±ç§ä¿è­·èˆ‡ä¼æ¥­æ ¸å¿ƒè³‡ç”¢è§£æ±ºæ–¹æ¡ˆã€‚</p>
                    </a>

                    <!-- ç”¢å“å¡ 2 (æ›´æ–°é€£çµè‡³æ–°é é¢) -->
                    <a href="product_core_collaborative.html" id="core-collaborative-link"
                        class="block bg-white p-8 rounded-3xl shadow-lg border border-gray-100 transform hover:scale-105 hover:shadow-2xl transition-all duration-300">
                        <div
                            class="w-16 h-16 bg-gradient-core rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.102 1.101m-2.25 2.25l-5.656 5.656" />
                            </svg>
                        </div>
                        <h3 id="core-collaborative-title" class="font-heading text-2xl font-bold mb-3">å”åŒè§£æ±ºå•é¡Œ</h3>
                        <p id="core-collaborative-desc" class="text-gray-600">
                            åŸºæ–¼ä¸åŒå•é¡Œã€ä¸åŒçš„éœ€æ±‚ï¼Œæä¾›ä¸åŒçš„ç³»çµ±ï¼Œç”±æ•¸æ“šè‡³åˆ†æï¼Œç¬¦åˆå®Œå…¨é€æ˜ä¸”ä¸å¯ç¯¡æ”¹çš„å®Œæ•´æ€§ã€å¯ç”¨æ€§ã€‚</p>
                    </a>

                    <!-- ç”¢å“å¡ 3 (æ›´æ–°ç‚ºé€£çµï¼šAI æ‡‰ç”¨) -->
                    <a href="product_core_ai.html" id="core-ai-link"
                        class="block bg-white p-8 rounded-3xl shadow-lg border border-gray-100 transform hover:scale-105 hover:shadow-2xl transition-all duration-300">
                        <div
                            class="w-16 h-16 bg-gradient-core rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M3 4h18v12a2 2 0 01-2 2H5a2 2 0 01-2-2V4z" />
                            </svg>
                        </div>
                        <h3 id="core-ai-title" class="font-heading text-2xl font-bold mb-3">AIæ‡‰ç”¨ (AIçŸ¥è­˜åº«ã€AIå®¢æœ....ç­‰)</h3>
                        <p id="core-ai-desc" class="text-gray-600">ä¼æ¥­æœ¬åœ°AIæ‡‰ç”¨ï¼Œå”åŠ©ä¼æ¥­åœ¨ä¿è­·è³‡æ–™ã€é™ä½å»¶é²ã€æ§åˆ¶æˆæœ¬èˆ‡ç¶­æŒåˆè¦æ€§ç­‰å¤šå€‹å±¤é¢ç²å¾—å¯¦è³ªç«¶çˆ­å„ªå‹¢ã€‚</p>
                    </a>
                </div>
            </div>
        </section>

        <!-- 4. P.L. HUES (ç”¢å“) -->
        <section id="hues" class="py-24 bg-gray-50 relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-hues opacity-10 blur-3xl"></div>
            <div class="container mx-auto px-6 relative z-10">
                <div class="text-center mb-16 max-w-3xl mx-auto">
                    <h2 class="font-heading text-4xl md:text-5xl font-extrabold mb-4">
                        P.L. <span class="text-gradient-hues">HUES</span>
                    </h2>
                    <p class="text-lg text-gray-600">
                        ä»¥ç†±æƒ…é»ç‡ƒç¾éº—ï¼Œä»¥å‰µæ„å®šç¾©è‡ªæˆ‘ã€‚å€‹äººåŒ–ã€ç¤¾ç¾¤å…±å‰µçš„æ™‚å°šå¹³å°ã€‚
                    </p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- ç”¢å“å¡ 1 (æ›´æ–°ç‚ºé€£çµï¼šChroma AI) -->
                    <a href="product_hues_chroma.html"
                        class="block bg-white p-8 rounded-3xl shadow-lg border border-gray-100 transform hover:scale-105 hover:shadow-2xl transition-all duration-300">
                        <div
                            class="w-16 h-16 bg-gradient-hues rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                        </div>
                        <h3 class="font-heading text-2xl font-bold mb-3">Chroma AI (è‰²å½©æ¨è–¦)</h3>
                        <p class="text-gray-600">åŸºæ–¼ AI æ·±åº¦å­¸ç¿’çš„å€‹äººåŒ–è‰²å½©åˆ†æèˆ‡ç”¢å“æ¨è–¦ï¼Œæ‰¾åˆ°æœ€é©åˆæ‚¨çš„å‘½å®šå½©å¦ã€‚</p>
                    </a>

                    <!-- ç”¢å“å¡ 2 (æ›´æ–°ç‚ºé€£çµï¼šAffinity Series) -->
                    <a href="product_hues_affinity.html"
                        class="block bg-white p-8 rounded-3xl shadow-lg border border-gray-100 transform hover:scale-105 hover:shadow-2xl transition-all duration-300">
                        <div
                            class="w-16 h-16 bg-gradient-hues rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                            <!-- ä¿®æ­£ï¼šæ›´æ›ç‚ºæ­£ç¢ºçš„ Sparkles åœ–ç¤º -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                            </svg>
                        </div>
                        <h3 class="font-heading text-2xl font-bold mb-3">Affinity Series (é™é‡å½©å¦)</h3>
                        <p class="text-gray-600">èˆ‡é ‚å°–å‰µä½œè€…è¯åçš„é™é‡å½©å¦ç³»åˆ—ï¼Œæ¯ä»¶ç”¢å“éƒ½è˜Šå«ç¨ç‰¹çš„æ•…äº‹èˆ‡å‰µæ„ã€‚</p>
                    </a>

                    <!-- ç”¢å“å¡ 3 (é€£çµè‡³æœé£¾åˆ†é  - ä¿æŒä¸è®Š) -->
                    <a href="creator_hub_apparel.html"
                        class="block bg-white p-8 rounded-3xl shadow-lg border border-gray-100 transform hover:scale-105 hover:shadow-2xl transition-all duration-300">
                        <div
                            class="w-16 h-16 bg-gradient-hues rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                            </svg>
                        </div>
                        <h3 class="font-heading text-2xl font-bold mb-3">Creator Hub (æœé£¾ç³»åˆ—)</h3>
                        <p class="text-gray-600">å°ˆå±¬å‰µä½œè€…çš„è¯åæœé£¾å¹³å°ï¼Œæ¢ç´¢è¡—é ­æ½®æµèˆ‡æ¥µç°¡ç¾å­¸çš„å®Œç¾çµåˆã€‚</p>
                    </a>
                </div>
            </div>
        </section>

        <!-- 5. éˆæ„ŸèªŒ (Insights) -->
        <section id="insights" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="font-heading text-4xl md:text-5xl font-extrabold mb-4">éˆæ„ŸèªŒ (Insights)</h2>
                    <p class="text-lg text-gray-600">
                        å¹³è¡¡ CORE (ç§‘æŠ€) èˆ‡ HUES (æ™‚å°š) çš„æœ€æ–°å‹•æ…‹èˆ‡æ·±åº¦æ–‡ç« ã€‚
                    </p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Article 1 -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col group">
                        <div class="relative overflow-hidden h-56">
                            <img src="https://placehold.co/600x400/0072FF/FFFFFF?text=CORE+Tech&font=montserrat"
                                alt="ç§‘æŠ€æ–‡ç« "
                                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <span
                                class="inline-block bg-blue-100 text-blue-800 text-xs font-semibold px-3 py-1 rounded-full mb-3 self-start">P.L.
                                CORE</span>
                            <h3 class="font-heading text-xl font-bold mb-3 flex-grow">SOC å¦‚ä½•è®“æ•¸æ“šçœ‹çš„è¦‹ï¼Ÿ</h3>
                            <p class="text-gray-600 mb-4">æ·±å…¥æ¢è¨SOCå¦‚ä½•é çŸ¥å³å°‡ç™¼ç”Ÿçš„é¢¨éšªã€‚</p>
                            <a href="#" class="font-bold text-gradient-core self-start">é–±è®€æ›´å¤š &rarr;</a>
                        </div>
                        <div class="border-t-4 border-gradient-core"></div>
                    </div>
                    <!-- Article 2 -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col group">
                        <div class="relative overflow-hidden h-56">
                            <img src="https://placehold.co/600x400/C94B4B/FFFFFF?text=HUES+Beauty&font=montserrat"
                                alt="æ™‚å°šæ–‡ç« "
                                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <span
                                class="inline-block bg-pink-100 text-pink-800 text-xs font-semibold px-3 py-1 rounded-full mb-3 self-start">P.L.
                                HUES</span>
                            <h3 class="font-heading text-xl font-bold mb-3 flex-grow">Chroma AIï¼šæ‰¾åˆ°æ‚¨ 2025 å¹´çš„å‘½å®šè‰²å½©</h3>
                            <p class="text-gray-600 mb-4">AI å¦‚ä½•æ¯”æ‚¨æ›´æ‡‚æ‚¨çš„è†šè‰²èˆ‡é¢¨æ ¼ï¼Ÿ</p>
                            <a href="#" class="font-bold text-gradient-hues self-start">é–±è®€æ›´å¤š &rarr;</a>
                        </div>
                        <div class="border-t-4 border-gradient-hues"></div>
                    </div>
                    <!-- Article 3 -->
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col group">
                        <div class="relative overflow-hidden h-56">
                            <img src="https://placehold.co/600x400/909090/FFFFFF?text=Brand+Story&font=montserrat"
                                alt="å“ç‰Œæ•…äº‹"
                                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <span
                                class="inline-block bg-gray-100 text-gray-800 text-xs font-semibold px-3 py-1 rounded-full mb-3 self-start">å“ç‰Œæ•…äº‹</span>
                            <h3 class="font-heading text-xl font-bold mb-3 flex-grow">å®‰å…¨èˆ‡ç†±æƒ…çš„å¹³è¡¡ï¼šPEACELOVE çš„å‰µå§‹ç†å¿µ</h3>
                            <p class="text-gray-600 mb-4">å°ˆè¨ªå‰µè¾¦äººï¼Œè«‡è«–ç§‘æŠ€èˆ‡æ™‚å°šçš„ç«èŠ±ã€‚</p>
                            <a href="#" class="font-bold text-gray-600 hover:text-black self-start">é–±è®€æ›´å¤š &rarr;</a>
                        </div>
                        <div class="border-t-4 border-gray-300"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. è¯çµ¡æˆ‘å€‘ (Contact) -->
        <section id="contact" class="py-24 bg-gray-50 relative">
            <!-- å¿ƒå½¢æ›²ç·šåˆ†éš” (SVG) -->
            <div class="absolute top-0 left-0 w-full" style="transform: translateY(-99px);">
                <svg class="heart-divider" viewBox="0 0 1440 100" preserveAspectRatio="none">
                    <path d="M0 100 C 360 0, 1080 0, 1440 100 L 1440 100 L 0 100 Z" />
                </svg>
            </div>

            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="font-heading text-4xl md:text-5xl font-extrabold mb-4">è¯çµ¡æˆ‘å€‘</h2>
                    <p class="text-lg text-gray-600">
                        é¸æ“‡æ‚¨çš„æ´½è«‡é¡å‹ï¼Œæˆ‘å€‘å°‡æœ‰å°ˆäººç›¡é€Ÿèˆ‡æ‚¨è¯ç¹«ã€‚
                    </p>
                </div>

                <!-- é›™è»Œé“è¯çµ¡è¡¨å–® -->
                <div class="max-w-6xl mx-auto bg-white p-10 md:p-16 rounded-3xl shadow-2xl">
                    <div class="grid lg:grid-cols-2 gap-16">

                        <!-- CORE è¡¨å–® -->
                        <div class="p-8 rounded-2xl bg-gradient-core text-white">
                            <h3 class="font-heading text-3xl font-bold mb-6">CORE ä¼æ¥­æ´½è«‡</h3>
                            <p class="mb-8">
                                é©ç”¨æ–¼ä¼æ¥­å®‰å…¨èˆ‡æ•¸æ“šæ–¹æ¡ˆè«®è©¢ã€‚
                            </p>
                            <form
                                action="mailto:bohui2944@gmail.com?subject=PEACELOVE%20CORE%20%E4%BC%81%E6%A5%AD%E6%B4%BD%E8%AB%87"
                                method="POST" enctype="text/plain" class="space-y-6">
                                <div>
                                    <label for="core-name" class="block text-sm font-medium mb-2">å…¬å¸/çµ„ç¹”åç¨±</label>
                                    <input type="text" id="core-name" name="å…¬å¸/çµ„ç¹”åç¨±"
                                        class="w-full px-4 py-3 rounded-lg text-gray-900 shadow-sm focus:ring-2 focus:ring-white focus:outline-none"
                                        placeholder="è«‹è¼¸å…¥æ‚¨çš„å…¬å¸åç¨±">
                                </div>
                                <div>
                                    <label for="core-email" class="block text-sm font-medium mb-2">è¯çµ¡ä¿¡ç®±</label>
                                    <input type="email" id="core-email" name="è¯çµ¡ä¿¡ç®±"
                                        class="w-full px-4 py-3 rounded-lg text-gray-900 shadow-sm focus:ring-2 focus:ring-white focus:outline-none"
                                        placeholder="example@company.com">
                                </div>
                                <div>
                                    <label for="core-message" class="block text-sm font-medium mb-2">æ´½è©¢å…§å®¹</label>
                                    <textarea id="core-message" name="æ´½è©¢å…§å®¹" rows="4"
                                        class="w-full px-4 py-3 rounded-lg text-gray-900 shadow-sm focus:ring-2 focus:ring-white focus:outline-none"
                                        placeholder="è«‹ç°¡è¿°æ‚¨çš„éœ€æ±‚..."></textarea>
                                </div>
                                <button type="submit"
                                    class="w-full bg-white text-blue-700 font-bold px-6 py-3 rounded-full shadow-lg hover:bg-gray-100 transition-colors">
                                    æäº¤ CORE è«®è©¢
                                </button>
                            </form>
                        </div>

                        <!-- HUES è¡¨å–® -->
                        <div class="p-8 rounded-2xl bg-gradient-hues text-white">
                            <h3 class="font-heading text-3xl font-bold mb-6">HUES åˆä½œ/å®¢æœ</h3>
                            <p class="mb-8">
                                é©ç”¨æ–¼ Chroma AIã€Affinity Seriesã€å‰µä½œè€…åˆä½œæˆ–ä¸€èˆ¬å®¢æœå•é¡Œã€‚
                            </p>
                            <form
                                action="mailto:bohui2944@gmail.com?subject=PEACELOVE%20HUES%20%E5%90%88%E4%BD%9C/%E5%AE%A2%E6%9C%8D"
                                method="POST" enctype="text/plain" class="space-y-6">
                                <div>
                                    <label for="hues-name" class="block text-sm font-medium mb-2">æ‚¨çš„å§“å/æš±ç¨±</label>
                                    <input type="text" id="hues-name" name="å§“å/æš±ç¨±"
                                        class="w-full px-4 py-3 rounded-lg text-gray-900 shadow-sm focus:ring-2 focus:ring-white focus:outline-none"
                                        placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
                                </div>
                                <div>
                                    <label for="hues-email" class="block text-sm font-medium mb-2">è¯çµ¡ä¿¡ç®±</label>
                                    <input type="email" id="hues-email" name="è¯çµ¡ä¿¡ç®±"
                                        class="w-full px-4 py-3 rounded-lg text-gray-900 shadow-sm focus:ring-2 focus:ring-white focus:outline-none"
                                        placeholder="example@mail.com">
                                </div>
                                <div>
                                    <label for="hues-message" class="block text-sm font-medium mb-2">æ‚¨çš„è¨Šæ¯</label>
                                    <textarea id="hues-message" name="æ‚¨çš„è¨Šæ¯" rows="4"
                                        class="w-full px-4 py-3 rounded-lg text-gray-900 shadow-sm focus:ring-2 focus:ring-white focus:outline-none"
                                        placeholder="è«‹å‘Šè¨´æˆ‘å€‘æ‚¨çš„æƒ³æ³•..."></textarea>
                                </div>
                                <button type="submit"
                                    class="w-full bg-white text-pink-700 font-bold px-6 py-3 rounded-full shadow-lg hover:bg-gray-100 transition-colors">
                                    æäº¤ HUES è¨Šæ¯
                                </button>
                            </form>
                        </div>

                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- III. é å°¾ -->
    <footer class="bg-gray-800 text-gray-300 py-16">
        <div class="container mx-auto px-6 text-center">

            <p class="font-heading text-2xl font-bold text-white mb-4">
                Innovate. Collaborate. Inspire.
            </p>

            <!-- ç¤¾ç¾¤åª’é«”é€£çµ -->
            <div class="flex justify-center space-x-6 my-8">
                <a href="#" class="text-gray-400 hover:text-white transition-colors" title="Instagram">
                    <!-- Instagram Icon -->
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.069-4.85.069s-3.584-.011-4.85-.069c-3.252-.149-4.771-1.664-4.919-4.919-.058-1.265-.069-1.644-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163zM12 0C8.741 0 8.333.014 7.053.072 2.69 1.106 1.106 2.69 1.072 7.053.014 8.333 0 8.741 0 12s.014 3.667.072 4.947c.149 3.225 1.664 4.771 4.919 4.919C8.333 23.986 8.741 24 12 24s3.667-.014 4.947-.072c3.225-.149 4.771-1.664 4.919-4.919C23.986 15.667 24 15.259 24 12s-.014-3.667-.072-4.947c-.149-3.225-1.664-4.771-4.919-4.919C15.667.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z">
                        </path>
                    </svg>
                </a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors" title="X/Facebook (ä½¿ç”¨ X Icon)">
                    <!-- X Icon -->
                    <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.47l8.6-9.83L0 1.154h7.594l5.243 6.93L18.901 1.153zm-3.68 19.5h2.15l-12.3-17.1H2.7l12.52 17.1z">
                        </path>
                    </svg>
                </a>
            </div>

            <p class="text-sm text-gray-500">
                &copy; 2025 PEACELOVE Inc. All Rights Reserved.
            </p>
        </div>
    </footer>

    <!-- Line å°åŠ©æ‰‹ (å·¦ä¸‹è§’) -->
    <div class="fixed bottom-4 left-4 z-50 flex flex-col items-start group">
        <!-- QR Code å½ˆå‡ºå±¤ (é è¨­éš±è—ï¼Œæ‡¸åœé¡¯ç¤º) -->
        <div
            class="mb-4 p-3 bg-white rounded-xl shadow-2xl opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0 pointer-events-none group-hover:pointer-events-auto border border-gray-100">
            <div class="text-center mb-2 text-sm font-bold text-gray-700">
                æƒæåŠ å…¥ PEACE LOVE Line AI åŠ©ç†
            </div>
            <!-- ä½¿ç”¨æ‚¨ä¸Šå‚³çš„ QR Code åœ–ç‰‡ -->
            <img src="./PLAILINE.png" alt="Line QR Code" class="w-32 h-32 object-contain mx-auto"
                onerror="this.src='https://placehold.co/128x128/06C755/FFFFFF?text=QR+Code&font=roboto';">
        </div>

        <!-- Line åœ–æ¨™æŒ‰éˆ• -->
        <button
            class="bg-[#06C755] text-white p-3 rounded-full shadow-lg hover:shadow-green-500/50 hover:scale-110 transition-all duration-300 flex items-center justify-center w-14 h-14 cursor-pointer">
            <!-- Line SVG Icon -->
            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 .5C5.6 .5 .5 5.1 .5 10.7c0 5 4.2 9.3 9.9 10.1v5.1c0 .3 .2 .6 .5 .6 .1 0 .2 0 .3 -.1l5.8-3.9c4.5-.7 7.5-4.3 7.5-8.3C24.5 5.1 18.9 .5 12 .5z" />
            </svg>
        </button>
    </div>

    <!-- æµ®å‹•å»£å‘Š (å«æ‡¸åœæç¤º) -->
    <div class="fixed bottom-4 right-4 z-50 flex flex-col items-end group">
        <!-- æç¤ºæ–‡å­— -->
        <div
            class="mb-2 px-3 py-2 bg-gray-800/90 backdrop-blur-sm text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0 pointer-events-none whitespace-nowrap">
            zeabur æ˜¯ä¸€å€‹å¼·å¤§çš„PaaS (Platform as a Service) å¹³å°
        </div>

        <!-- å¾½ç« é€£çµ -->
        <a href="https://zeabur.com/referral?referralCode=popokoko&utm_source=popokoko" target="_blank"
            class="shadow-lg rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300 block">
            <img src="https://zeabur.com/deployed-on-zeabur-dark.svg" alt="Deployed on Zeabur" class="h-10 w-auto">
        </a>
    </div>

    <script>
        // è¡Œå‹•è£ç½®é¸å–®é–‹é—œ
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            mobileMenu.classList.toggle('flex');
        });

        // é»æ“Šè¡Œå‹•è£ç½®é¸å–®é€£çµæ™‚è‡ªå‹•é—œé–‰é¸å–®
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                mobileMenu.classList.remove('flex');
            });
        });

        /* --- è–èª•ç¯€ä¸»é¡Œæ§åˆ¶èˆ‡ç‰¹æ•ˆ --- */
        (function () {
            const html = document.documentElement;

            // å‰µå»ºåˆ‡æ›æŒ‰éˆ•
            const themeToggleBtn = document.createElement('button');
            themeToggleBtn.innerHTML = 'ğŸ…';
            themeToggleBtn.className = 'fixed top-24 right-4 z-50 bg-white/90 backdrop-blur text-2xl p-3 rounded-full shadow-xl border-4 border-[#FF7096] hover:scale-110 hover:shadow-2xl transition-all duration-300 group';
            themeToggleBtn.title = 'åˆ‡æ›ç¯€æ—¥æ°£æ°›';
            themeToggleBtn.style.boxShadow = '0 4px 14px 0 rgba(255, 112, 150, 0.39)';

            // æŒ‰éˆ•æç¤ºå·¥å…·
            const tooltip = document.createElement('span');
            tooltip.className = 'absolute right-full top-1/2 -translate-y-1/2 mr-3 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none';
            tooltip.innerText = 'åˆ‡æ›é¢¨æ ¼';
            themeToggleBtn.appendChild(tooltip);

            themeToggleBtn.onclick = toggleTheme;
            document.body.appendChild(themeToggleBtn);

            // é›ªèŠ±å‹•ç•«æ¨£å¼
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fall {
                    0% { transform: translateY(-10vh) translateX(0) rotate(0deg); opacity: 0; }
                    10% { opacity: 1; }
                    100% { transform: translateY(100vh) translateX(20px) rotate(360deg); opacity: 0.7; }
                }
                .snowflake {
                    position: fixed;
                    top: -10px;
                    z-index: 10; /* Put behind header/modals but in front of bg */
                    user-select: none;
                    pointer-events: none;
                    color: #dbeafe;
                    text-shadow: 0 0 5px rgba(255,255,255,0.8);
                }
            `;
            document.head.appendChild(style);

            let snowInterval;

            function startSnow() {
                if (snowInterval) return;
                // ç«‹å³ç”¢ç”Ÿä¸€äº›é›ªèŠ±
                for (let i = 0; i < 10; i++) createSnowflake();
                snowInterval = setInterval(createSnowflake, 400);
            }

            function stopSnow() {
                clearInterval(snowInterval);
                snowInterval = null;
                document.querySelectorAll('.snowflake').forEach(el => {
                    el.style.opacity = '0';
                    setTimeout(() => el.remove(), 1000);
                });
            }

            function createSnowflake() {
                const snow = document.createElement('div');
                snow.classList.add('snowflake');
                const flowers = ['â„', 'â…', 'â†', 'â€¢'];
                snow.textContent = flowers[Math.floor(Math.random() * flowers.length)];

                const size = Math.random() * 20 + 10;
                snow.style.fontSize = size + 'px';

                // éš¨æ©Ÿä½ç½®èˆ‡å‹•ç•«åƒæ•¸
                snow.style.left = Math.random() * 100 + 'vw';
                const duration = Math.random() * 5 + 8; // 8-13ç§’é£„è½
                snow.style.animation = `fall ${duration}s linear forwards`;

                document.body.appendChild(snow);

                setTimeout(() => {
                    if (snow.parentNode) snow.remove();
                }, duration * 1000);
            }

            function toggleTheme() {
                const isChristmas = html.classList.toggle('theme-christmas');
                if (isChristmas) {
                    themeToggleBtn.innerHTML = 'ğŸ…';
                    themeToggleBtn.appendChild(tooltip); // Re-append tooltip
                    themeToggleBtn.style.borderColor = '#FF7096';
                    themeToggleBtn.style.boxShadow = '0 4px 14px 0 rgba(255, 112, 150, 0.39)';
                    startSnow();
                } else {
                    themeToggleBtn.innerHTML = 'âœ¨';
                    themeToggleBtn.appendChild(tooltip); // Re-append tooltip
                    themeToggleBtn.style.borderColor = '#00c6ff';
                    themeToggleBtn.style.boxShadow = '0 4px 14px 0 rgba(0, 198, 255, 0.39)';
                    stopSnow();
                }
            }

            // åˆå§‹åŒ–æª¢æŸ¥ (å›  HTML å·²é è¨­ class)
            if (html.classList.contains('theme-christmas')) {
                startSnow();
            }
        })();
    </script>

    <!-- 
      ä¿®æ­£ï¼šFirebase è¨ªå®¢è¨ˆæ•¸å™¨æ¨¡çµ„ (é©ç”¨æ–¼ GitHub Pages)
    -->
    <script type="module">
        // åŒ¯å…¥ Firebase æ¨¡çµ„
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, setDoc, increment } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // åŒ¯å…¥é›†ä¸­ç®¡ç†çš„è¨­å®š
        import { firebaseConfig } from "./config.js";

        // åˆå§‹åŒ– Firebase
        let app, db, auth;
        try {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);

            // ç›£è½ç™»å…¥ç‹€æ…‹
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    setupCounter();
                    setupCoreModulesListener(); // åŠ ä¸Š CORE æ¨¡çµ„ç›£è½
                } else {
                    signInAnonymously(auth)
                        .then(() => {
                            setupCounter();
                            setupCoreModulesListener(); // åŠ ä¸Š CORE æ¨¡çµ„ç›£è½
                        })
                        .catch((error) => {
                            console.error("Firebase åŒ¿åç™»å…¥å¤±æ•—:", error);
                            if (error.code === 'auth/configuration-not-found') {
                                document.getElementById('bottle-container').innerHTML = "<p class='text-gray-500 p-4 text-sm'>éŒ¯èª¤ï¼šè¨ˆæ•¸å™¨èªè­‰å¤±æ•—ã€‚<br>(è«‹å•Ÿç”¨åŒ¿åç™»å…¥)</p>";
                            }
                        });
                }
            });
        } catch (e) {
            console.error("Firebase åˆå§‹åŒ–å¤±æ•—:", e);
        }

        // æ–°å¢ï¼šç›£è½ CORE æ¨¡çµ„è³‡æ–™
        function setupCoreModulesListener() {
            const modules = ['security', 'collaborative', 'ai'];
            modules.forEach(mId => {
                const docRef = doc(db, 'artifacts', 'peacelove', 'public', 'core_modules', mId);
                onSnapshot(docRef, (docSnap) => {
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        const titleEl = document.getElementById(`core-${mId}-title`);
                        const descEl = document.getElementById(`core-${mId}-desc`);
                        const linkEl = document.getElementById(`core-${mId}-link`);

                        if (titleEl && data.title) titleEl.textContent = data.title;
                        if (descEl && data.description) descEl.textContent = data.description;
                        if (linkEl && data.link) linkEl.href = data.link;
                    }
                }, (err) => {
                    console.warn(`CORE æ¨¡çµ„ ${mId} è®€å–å¤±æ•—ï¼ˆå¯èƒ½å°šæœªè¨­å®šå…§å®¹ï¼‰:`, err);
                });
            });
        }

        // DOM å…ƒç´ 
        const heartWrapper = document.getElementById('hearts-wrapper');
        const countText = document.getElementById('visitor-count-text');

        let visitorCountDocRef;
        // let currentHeartCount = 0; // ä¸å†éœ€è¦å…¨åŸŸè¿½è¹¤ï¼Œæ”¹ç”¨ DOM æª¢æŸ¥

        // 2. è¨­ç½®è¨ˆæ•¸å™¨
        function setupCounter() {
            if (!db) {
                console.error("Firestore æœªæº–å‚™å°±ç·’");
                return;
            }
            visitorCountDocRef = doc(db, 'site_stats', 'visitor_count');
            setupVisitorListener();
            incrementVisitCount();
        }

        // 3. è¨­ç½®å³æ™‚ç›£è½å™¨
        function setupVisitorListener() {
            onSnapshot(visitorCountDocRef, (docSnap) => {
                let count = 0;
                if (docSnap.exists()) {
                    count = docSnap.data().count;
                }
                updateHeartBottle(count);
            }, (error) => {
                console.error("Firestore ç›£è½å¤±æ•—:", error);
            });
        }

        // 4. å¢åŠ è¨ªå•æ¬¡æ•¸
        async function incrementVisitCount() {
            if (sessionStorage.getItem('peacelove_has_visited')) return;
            sessionStorage.setItem('peacelove_has_visited', 'true');
            try {
                await setDoc(visitorCountDocRef, {
                    count: increment(1)
                }, { merge: true });
            } catch (e) {
                console.error("Firestore æ›´æ–°è¨ˆæ•¸å¤±æ•—:", e);
            }
        }

        // 5. æ›´æ–° UI (CSS å‹•ç•« + å‹•æ…‹å°ºå¯¸ + å·®ç•°æ›´æ–°ç‰ˆæœ¬)
        function updateHeartBottle(count) {
            if (countText) countText.textContent = count;
            if (!heartWrapper) return;

            // é‡æ–°è¨ˆç®—æ‡‰è©²é¡¯ç¤ºçš„æ„›å¿ƒçµ„åˆ
            let remaining = count;

            const targets = {
                'heart-huge': Math.floor(remaining / 1000),
                'heart-large': Math.floor((remaining % 1000) / 100),
                'heart-medium': Math.floor((remaining % 100) / 20),
                'heart-small': remaining % 20
            };

            // è¼”åŠ©å‡½å¼ï¼šå»ºç«‹æ„›å¿ƒå…ƒç´  (æˆ–è–èª•è¥ª)
            const createHeart = (sizeClass, sizePx) => {
                const heartEl = document.createElementNS('http://www.w3.org/2000/svg', 'svg');

                // æª¢æŸ¥æ˜¯å¦ç‚ºè–èª•ç¯€ä¸»é¡Œ
                const isChristmas = document.documentElement.classList.contains('theme-christmas');

                heartEl.setAttribute('class', `heart-icon ${sizeClass}`);
                heartEl.setAttribute('viewBox', '0 0 20 20'); // Icons need similar viewbox or adjust
                heartEl.setAttribute('fill', 'currentColor');

                if (isChristmas) {
                    // è–èª•è¥ª (Stocking) SVG Path (ç°¡åŒ–ç‰ˆ)
                    // åŸæœ¬æ˜¯ scale(1) è¦–çª— 0 0 20 20ã€‚é€™è£¡ç¹ªè£½ä¸€å€‹ç°¡å–®è¥ªå­ã€‚
                    // ä½¿ç”¨ path data. 
                    heartEl.innerHTML = '<path d="M14.5 3c-1.5 0-2.5 1-3 2c-0.5-1-1.5-2-3-2c-2 0-3.5 1.5-3.5 3.5c0 3 4.5 7.5 6.5 9.5c2-2 6.5-6.5 6.5-9.5c0-2-1.5-3.5-3.5-3.5z" style="display:none;" />' +
                        '<path d="M6 1C6 1 4 1 4 3V8C4 8 2 8 2 11C2 14 5 15 7 14L10 11V3C10 1 8 1 6 1Z" transform="translate(4, 2) scale(0.8)" />';
                    // ä¸Šé¢çš„ path æœ‰é»è¤‡é›œï¼Œé‡æ–°ç•«ä¸€å€‹ç°¡å–®çš„è¥ªå­å½¢ç‹€ç¬¦åˆ 0 0 20 20
                    // Stocking Path
                    heartEl.innerHTML = '<path d="M6 2C5 2 4 3 4 4V10C4 10 3 10 2 11C1 12 1 14 3 15C5 16 8 15 9 13L11 11V4C11 3 10 2 9 2H6M6 0H9C10 0 11 0.5 11 1.5V3H4V1.5C4 0.5 5 0 6 0Z" transform="translate(4,2)"/>';

                    // è‹¥è¦ºå¾—ç·šæ¢å¤ªç´°æˆ–å¡«å……ä¸å°ï¼Œæˆ‘å€‘å¯ä»¥ç¨å¾®èª¿æ•´ã€‚é€™è£¡å‡è¨­å¡«å…… currentColor.
                    // ç‚ºäº†æ›´æœ‰ç¯€æ—¥æ„Ÿï¼Œè‹¥æ˜¯è–èª•ç¯€æ¨¡å¼ï¼Œæˆ‘å€‘å¯ä»¥å¼·åˆ¶è¨­å®šé¡è‰²
                    if (sizeClass === 'heart-medium') heartEl.style.color = '#FF7096'; // Warm Pink
                    if (sizeClass === 'heart-large') heartEl.style.color = '#FF97B7';  // Lighter Pink
                    if (sizeClass === 'heart-huge') heartEl.style.color = '#FFB3C1';   // Blush Pink
                } else {
                    // æ„›å¿ƒ (Heart) SVG Path
                    heartEl.innerHTML = '<path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />';
                }


                // --- ä½ç½®è¨ˆç®— ---
                // æ°´ç“¶å¯¬åº¦ 250px, padding 20px -> å…§éƒ¨ç´„ 210px
                const usableWidth = 210 - sizePx;
                const randomLeft = Math.random() * Math.max(0, usableWidth);

                // éš¨æ©Ÿ Y (å †ç–Šæ•ˆæœ)
                const randomBottom = (Math.random() * 50);

                // éš¨æ©Ÿæ—‹è½‰
                const randomRotation = (Math.random() - 0.5) * 60;

                heartEl.style.left = `${randomLeft}px`;
                heartEl.style.bottom = `${randomBottom}px`;
                heartEl.style.transform = `rotate(${randomRotation}deg)`;

                // å‹•ç•« (ä½¿ç”¨ CSS dropIn)
                heartEl.style.opacity = '0';
                heartEl.style.animation = `dropIn 0.5s ease-out forwards`;
                if (sizeClass === 'heart-huge') {
                    heartEl.style.animation += ", pulse 2s infinite ease-in-out 1s";
                }

                return heartEl;
            };

            // æ ¸å¿ƒé‚è¼¯ï¼šåªå°å·®ç•°éƒ¨åˆ†é€²è¡Œ DOM æ“ä½œ
            const syncHearts = (sizeClass, targetCount, sizePx) => {
                const existing = heartWrapper.getElementsByClassName(sizeClass);
                const currentCount = existing.length;
                const diff = targetCount - currentCount;

                if (diff > 0) {
                    for (let i = 0; i < diff; i++) {
                        const heart = createHeart(sizeClass, sizePx);
                        heart.style.animationDelay = `${Math.random() * 0.5}s`;
                        heartWrapper.appendChild(heart);
                    }
                } else if (diff < 0) {
                    for (let i = 0; i < Math.abs(diff); i++) {
                        if (existing[0]) existing[0].remove();
                    }
                }
            };

            syncHearts('heart-huge', targets['heart-huge'], 120);
            syncHearts('heart-large', targets['heart-large'], 80);
            syncHearts('heart-medium', targets['heart-medium'], 40);
            syncHearts('heart-small', targets['heart-small'], 20);
        }

        // 6. ç›£è½ä¸»é¡Œè®Šæ›´ (MutationObserver)
        // é€™æ˜¯ç‚ºäº†åœ¨åˆ‡æ›é–‹é—œæ™‚ï¼Œå³æ™‚å°‡ç¾æœ‰çš„æ„›å¿ƒè®Šæˆè¥ªå­(æˆ–åä¹‹)ï¼Œè€Œä¸éœ€è¦ç­‰å¾…é‡æ–°æ•´ç†
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === "attributes" && mutation.attributeName === "class") {
                    // ç•¶ class è®Šæ›´æ™‚ï¼Œæ¸…ç©ºå®¹å™¨ä¸¦é‡æ–°ç¹ªè£½
                    if (heartWrapper && countText) {
                        heartWrapper.innerHTML = ''; // æ¸…ç©º
                        // é‡æ–°å‘¼å« updateHeartBottleï¼Œé€™æœƒè§¸ç™¼é‡æ–°ç”Ÿæˆæ‰€æœ‰åœ–ç¤º
                        // ä½¿ç”¨ç›®å‰é¡¯ç¤ºçš„æ•¸å­—
                        const count = parseInt(countText.textContent.replace(/,/g, '')) || 0;
                        updateHeartBottle(count); // å‚³å…¥ç•¶å‰æ•¸å­—ï¼Œå¼·åˆ¶é‡ç¹ª
                    }
                }
            });
        });

        // é–‹å§‹ç›£è½ html æ¨™ç±¤
        observer.observe(document.documentElement, {
            attributes: true //configure it to listen to attribute changes
        });
        // ç¦æ­¢æ‰€æœ‰åœ–ç‰‡çš„å³éµé¸å–®èˆ‡æ‹–æ‹½
        // å¼•å…¥çµ±ä¸€è³‡å®‰é˜²è­·è…³æœ¬ (Asset Protection & URL Masking)
    </script>
    <script src="js/guard.js"></script>

    <script>
        // Use an IIFE to avoid polluting global scope
        (function () {
            const tv = document.getElementById('draggable-tv');
            if (!tv) return;

            let isDragging = false;
            let isFloating = false; // flag to check if element has popped out of flow
            let shiftX, shiftY;
            let startX, startY; // to detect drag threshold

            // Events
            tv.addEventListener('mousedown', onMouseDown);
            tv.addEventListener('touchstart', onTouchStart, { passive: false });

            // Prevent default dragstart on images inside to avoid browser native drag
            tv.querySelectorAll('img').forEach(img => {
                img.addEventListener('dragstart', (e) => e.preventDefault());
            });

            function onMouseDown(e) {
                // Only left click
                if (e.button !== 0) return;
                startDrag(e.clientX, e.clientY, e);
            }

            function onTouchStart(e) {
                const touch = e.touches[0];
                startDrag(touch.clientX, touch.clientY, e);
            }

            function startDrag(clientX, clientY, e) {
                isDragging = true;
                startX = clientX;
                startY = clientY;

                // Calculate offset from the element's top-left corner
                const rect = tv.getBoundingClientRect();
                shiftX = clientX - rect.left;
                shiftY = clientY - rect.top;

                // Attach global listeners
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
                document.addEventListener('touchmove', onTouchMove, { passive: false });
                document.addEventListener('touchend', onTouchEnd);
            }

            function onMouseMove(e) {
                if (!isDragging) return;
                e.preventDefault(); // Prevent selection
                moveAt(e.clientX, e.clientY);
            }

            function onTouchMove(e) {
                if (!isDragging) return;
                // prevent scrolling while dragging if we are floating
                if (isFloating) e.preventDefault();
                const touch = e.touches[0];
                moveAt(touch.clientX, touch.clientY);
            }

            function moveAt(clientX, clientY) {
                // Check threshold (5px) before detaching to allow simple clicks
                if (!isFloating) {
                    if (Math.abs(clientX - startX) > 5 || Math.abs(clientY - startY) > 5) {
                        enableFloating();
                    }
                }

                if (isFloating) {
                    // Update position specific to page coordinates (supporting scroll)
                    const newLeft = clientX - shiftX + window.scrollX;
                    const newTop = clientY - shiftY + window.scrollY;

                    tv.style.left = newLeft + 'px';
                    tv.style.top = newTop + 'px';
                }
            }

            function enableFloating() {
                isFloating = true;
                const rect = tv.getBoundingClientRect();

                // 1. Lock dimensions to prevent resizing when reparented
                tv.style.width = rect.width + 'px';
                // Height is usually auto, but locking it prevents jumps if content shifts
                tv.style.height = rect.height + 'px';

                // 2. Set styles for absolute positioning
                tv.style.position = 'absolute';
                tv.style.zIndex = '9999';
                tv.style.margin = '0';

                // 3. Initial placement at current spot
                tv.style.left = (rect.left + window.scrollX) + 'px';
                tv.style.top = (rect.top + window.scrollY) + 'px';

                // 4. Change cursor
                tv.style.cursor = 'grabbing';

                // 5. Move to body to escape parent overflow:hidden and let grid collapse
                document.body.appendChild(tv);
            }

            function onMouseUp() { stopDrag(); }
            function onTouchEnd() { stopDrag(); }

            function stopDrag() {
                isDragging = false;
                if (isFloating) {
                    tv.style.cursor = 'move';
                } else {
                    // If we released before threshold, nothing visually happens (it stays in flow)
                }

                document.removeEventListener('mousemove', onMouseMove);
                document.removeEventListener('mouseup', onMouseUp);
                document.removeEventListener('touchmove', onTouchMove);
                document.removeEventListener('touchend', onTouchEnd);
            }
        })();
    </script>
</body>

</html>
